///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
nodebug [
    defvar  OPT_Width  1 66 -1 // in units of (fontscale Width )
    defvar  OPT_Height 1 16 -1 // in units of (fontscale Height)

    defvar  GfxPreset_Decals           0 0 9
    defvar  GfxPreset_DynamicShadows   0 0 9
    defvar  GfxPreset_Glare            0 0 9
    defvar  GfxPreset_Grass            0 0 9
    defvar  GfxPreset_MotionBlur       0 0 9
    defvar  GfxPreset_ShadowmapQuality 0 0 9
    defvar  GfxPreset_SoftParticles    0 0 9

    defvar  GfxShowTexReduce 0 0 1

    deffvar GuiSens 0.001 1.0 1000.0
]

newgui "options" [
    guikeeptab 1
    // Save the frames 'guitabnum' hack:        H                                V
                      if (= $guitabnum  1) [ guilist [guistrut $OPT_Height 1; guilist [guistrut $OPT_Width 1; OPT_TAB_Game   ]] ]
    guitab "console"; if (= $guitabnum  2) [ guilist [guistrut $OPT_Height 1; guilist [guistrut $OPT_Width 1; OPT_TAB_Console]] ]
    guitab "display"; if (= $guitabnum  3) [ guilist [guistrut $OPT_Height 1; guilist [guistrut $OPT_Width 1; OPT_TAB_Display]] ]
    guitab "gfx"    ; if (= $guitabnum  4) [ guilist [guistrut $OPT_Height 1; guilist [guistrut $OPT_Width 1; OPT_TAB_Gfx    ]] ]
    guitab "hud"    ; if (= $guitabnum  5) [ guilist [guistrut $OPT_Height 1; guilist [guistrut $OPT_Width 1; OPT_TAB_Hud    ]] ]
    guitab "input"  ; if (= $guitabnum  6) [ guilist [guistrut $OPT_Height 1; guilist [guistrut $OPT_Width 1; OPT_TAB_Input  ]] ]
    guitab "menus"  ; if (= $guitabnum  7) [ guilist [guistrut $OPT_Height 1; guilist [guistrut $OPT_Width 1; OPT_TAB_Menus  ]] ]
    guitab "res"    ; if (= $guitabnum  8) [ guilist [guistrut $OPT_Height 1; guilist [guistrut $OPT_Width 1; OPT_TAB_Res    ]] ]
    guitab "sound"  ; if (= $guitabnum  9) [ guilist [guistrut $OPT_Height 1; guilist [guistrut $OPT_Width 1; OPT_TAB_Sound  ]] ]
    guitab "cfg"    ; if (= $guitabnum 10) [ guilist [guistrut $OPT_Height 1; guilist [guistrut $OPT_Width 1; OPT_TAB_Cfg    ]] ]
] "game"


TODO 0 "menus.cfg -- More Options..."
// showparticles
// maxparticles 4000
// maxparticledistance 1024

//  SCORE BOARD
//      showservinfo      0 1 1
//      showclientnum     0 0 1
//      showpj            0 0 1
//      showping          0 1 2
//      showspectators    0 1 1
//      showspectatorping 0 0 1
//      highlightscore    0 1 1
//      showconnecting    0 0 1
//      hidefrags         0 1 1
//      showdeaths        0 0 1
//      tiesort           0 0 2


//#############################################################################################################################################
//#############################################################################################################################################
OPT_TAB_Game = [
    guifreerow 18  1 [ guitext "hit indication: " 0
             ] 15 -2 [ guicheckbox "hit crosshair"  hitcrosshair 425 0
             ] 15 -2 [ guicheckbox "hit sound"      hitsound
    ]
    guistrut 0.75
    guifreerow 18  1 [ guitext "scoreboard: " 0
             ] 48 -2 [ guicheckbox "show upon death"  deathscore
    ]
    guifreerow 18  1 [
             ] 15 -2 [ guicheckbox "show frags"       hidefrags 0 1
             ] 15 -2 [ guicheckbox "show deaths"      showdeaths
             ]  1 -2 [ guicheckbox "show packetjump"  showpj
    ]
    guifreerow 18 -2 [
             ] 12 -2 [ guitext "show ping: "
             ]  9 -2 [ guiradio "off"                showping 0
             ]  9 -2 [ guiradio "ping"               showping 1
             ]  9 -2 [ guiradio "ping & packetjump"  showping 2
    ]
    guistrut 0.75
    guifreerow 18  1 [ guitext "respawn: " 0
             ] 12 -2 [ guicheckbox "via ^f2attack"  attackspawn
             ] 12 -2 [ guicheckbox "via ^f2jump"    jumpspawn
             ] 12 -2 [ if (&& (= $attackspawn 0) (= $jumpspawn 0)) [guitext (? (mod (div $getmillis 500) 2) "^f4use ^f6/bind KEY [respawn]" "^f~use ^f2/bind KEY [respawn]")]
    ]
    guistrut 0.75
    guifreerow 18  1 [ guitext "player models: " 0
             ] 12 -1 [ guicheckbox "fullbright" fullbrightmodels 60 0
             ]  9 -1 [ if (!= $fullbrightmodels 0) [ guiradio "^f5subtle"   fullbrightmodels  60 ][ guiradio "^f4subtle"   fullbrightmodels  60 ]
             ]  9 -1 [ if (!= $fullbrightmodels 0) [ guiradio "^f1bright"   fullbrightmodels 100 ][ guiradio "^f4bright"   fullbrightmodels 100 ]
             ]  9 -1 [ if (!= $fullbrightmodels 0) [ guiradio "^f8intense"  fullbrightmodels 150 ][ guiradio "^f4intense"  fullbrightmodels 150 ]
             ]  9 -1 [ if (!= $fullbrightmodels 0) [ guiradio "^f7max"      fullbrightmodels 200 ][ guiradio "^f4max"      fullbrightmodels 200 ]
    ]
    guifreerow 18 -2 [
             ] 27 -2 [ guicheckbox "force matching player models" forceplayermodels
             ]  1 -2 [ guicheckbox "always use team skins" teamskins
    ]
    guistrut 0.75
    guifreerow 18  1 [ guitext "violence: " 0
             ] 48 -2 [ guicheckbox "blood"  blood
    ]
    guifreerow 18 -2 [
             ] 12 -2 [ guitext "hide dead:"
             ]  9 -2 [ guiradio "off"          hidedead 0
             ]  9 -2 [ guiradio "all"          hidedead 1
             ]  9 -2 [ guiradio "enemies only" hidedead 2
    ]
    guifreerow 18 -2 [
             ] 18 -2 [ if (= $hidedead 1) [ guicheckbox "^f4ragdoll deaths" ragdoll ][ guicheckbox "ragdoll deaths" ragdoll ]
             ] 30 -2 [ if (|| (= $hidedead 1) (= $ragdoll 0)) [ guicheckbox "^f4keep after respawn" ragdollmillis 10000 0 ][ guicheckbox "keep after respawn" ragdollmillis 10000 0 ]
    ]
    guifreerow 18 -2 [
             ] 18 -2 [ if (|| (= $hidedead 1) (= $ragdoll 0)) [guitext "^f4velocity multiplier:"][guitext "velocity multiplier:"]
             ] 30 -2 [ guislider deadpush
    ]
    guibar
    guifreerow 18 -2 [
             ] 48 -2 [ guibutton "^f6restore defaults (clears ALL settings)" [showgui "options_restore"]
    ]
]

newgui "options_restore" [
    guistrut 28 1
    guialign 0 [guitext "^f7Restore defaults, are you sure?" 0 ]
    guialign 0 [guitext "^f6(clears ALL settings)" 0 ]
    guistrut 1
    guialign 0 [
        guibutton "^f2Restore" [exec "restore.cfg"; cleargui] 0
        guistrut 5
        guibutton "^f7Cancel" [cleargui 1] 0
    ]
] 0






TODO 0 "menus.cfg -- Use 'AreYouSure' style for other prompt menus?"
newgui "old" [
    guitext "the following settings have changed:"
    guitext "anti-aliasing"
    guitext "sound configuration"
    guibar
    guitext "apply changes now?"
    guibutton "yes"
    guibutton "no"
] 0

newgui "new" [
    //guistrut 1
    guialign 0 [guitext "^f7The following settings have changed:" 0]
    guialign 0 [guitext "^f6anti-aliasing" 0]
    guialign 0 [guitext "^f6sound configuration" 0]
    guistrut 1
    guialign 0 [
        guilist [guistrut 14 1; guialign 0 [guibutton "^f2Apply Now" [] 0]]
        //guistrut 5
        guilist [guistrut 12 1; guialign 0 [guibutton "^f7Skip"      [] 0]]
    ]
] 0






//#############################################################################################################################################
//#############################################################################################################################################
nodebug [
    defvarp fullconscroll 0 0 1
]

OPT_TAB_Console = [
    guifreerow 18  1 [ guitext "text size: " 0
             ]  1 -2 [ guifield conscale 5
             ]  1 -2 [ guistayopen [guibutton "" [conscale (+fround $conscale -0.05)]  "val_dec"]
             ]  1 -2 [ guistayopen [guibutton "" [conscale (+fround $conscale  0.05)]  "val_inc"]
    ]
    guistrut 0.5
    guifreerow 18  1 [
             ] 24 -1 [ guicheckbox "chat console" miniconfilter 0x300 0
             ]  1 -1 [ guicheckbox "toggle full console ^f2[F11]" fullconsole
    ]
    guistrut 0.25
    guifreerow 18  1 [ guitext "console size: " 0
             ] 48 -2 [ guislider consize
    ]
    guifreerow 18  1 [ guitext "^f4(# of lines) " 0 ] 0.5
    guifreerow 18  1 [ guitext "console filter: " 0
             ] 16 -1 [ guibitfield "important info"   confilter 0x11
             ] 16 -1 [ guibitfield "chat"             confilter 0x100
             ] 16 -1 [ guibitfield "self frags"       confilter 0x800
    ]
    guifreerow 18 -1 [
             ] 16 -1 [ guibitfield "warnings"         confilter 0x02
             ] 16 -1 [ guibitfield "team chat"        confilter 0x200
             ] 16 -1 [ guibitfield "other frags"      confilter 0x1000
    ]
    guifreerow 18 -1 [
             ] 16 -1 [ guibitfield "errors"           confilter 0x04
             ] 16 -1 [ guibitfield "game events"      confilter 0x400
             ] 16 -1 [ guibitfield "team kills"       confilter 0x2000
    ]
    guifreerow 18 -1 [
             ] 16 -1 [ guibitfield "script messages"  confilter 0x20
    ]
    guistrut 0.25

//fullconscroll

    guifreerow 18  1 [ guitext "full console size: " 0
             ] 48 -2 [ guislider fullconsize
    ]
    guifreerow 18  1 [ guitext "^f4(% of screen) " 0 ] 0.5
    guifreerow 18  1 [ guitext "full console filter: " 0
             ] 16 -1 [ guibitfield "important info"   fullconfilter 0x11
             ] 16 -1 [ guibitfield "chat"             fullconfilter 0x100
             ] 16 -1 [ guibitfield "self frags"       fullconfilter 0x800
    ]
    guifreerow 18 -1 [
             ] 16 -1 [ guibitfield "warnings"         fullconfilter 0x02
             ] 16 -1 [ guibitfield "team chat"        fullconfilter 0x200
             ] 16 -1 [ guibitfield "other frags"      fullconfilter 0x1000
    ]
    guifreerow 18 -1 [
             ] 16 -1 [ guibitfield "errors"           fullconfilter 0x04
             ] 16 -1 [ guibitfield "game events"      fullconfilter 0x400
             ] 16 -1 [ guibitfield "team kills"       fullconfilter 0x2000
    ]
    guifreerow 18 -1 [
             ] 16 -1 [ guibitfield "script messages"  fullconfilter 0x20
    ]
]


//#############################################################################################################################################
//#############################################################################################################################################
//  Multiples of common monitor refresh rates:
//_TheHertz_60 = [  60 120 240 360 480 600 720 840 960 ]
//_TheHertz_75 = [  75 150 225 300 450 600 900 ]
//_TheHertz_90 = [  90 180 270 360 540 720 900 ]
//_TheHertz144 = [     144 288 432 576 720 864 ]
//_TheHertz165 = [     165 330 495 660 825 990 ]
OPT_TAB_Display = [
    guifreerow 18  1 [ guitext "field of view: " 0
             ] 36 -2 [ guislider fov;
             ] 12  0 [ guitext "(default 100)" 0
    ]
    guibar
    guifreerow 18  1 [ guitext "maxfps: " 0
             ] 36 -2 [ guilistslider maxfps [60 75 90 120 144 165 240 360 480 600 720 840 960]
             ] 12  1 [ guifield maxfps 10
    ]
    guistrut 0.25
    guifreerow 18 -1 [
             ] 36 -1 [ guicheckbox "fullscreen"  fullscreen
    ]
    guifreerow 18 -1 [
             ] 36 -1 [ guicheckbox "v-sync"      vsync 1 0
    ]
    guistrut 0.25
    guifreerow 18  1 [ guitext "gamma: " 0
             ] 36 -2 [ guislider gamma
             ] 12  0 [ guitext "(default 100)" 0
    ]
    guifreerow 18  1 [ guitext "z-buffer depth: " 0
             ] 36 -2 [ guilistslider depthbits [0 16 24 32]
             ] 12  0 [ guitext "(default   0)" 0
    ]
    guibar
    guifreerow 18 -1 [
             ] 36 -1 [ guicheckbox "bilinear^t(texture smoothing)"  bilinear
    ]
    guifreerow 18 -1 [
             ] 36 -1 [ guicheckbox "bilinear^t(texture smoothing, map geo only)"  reducefilter
    ]
    guifreerow 18 -1 [
             ] 36 -1 [ guicheckbox "trilinear^t(mipmap-level blending)"  trilinear
    ]
    guistrut 0.25
    guifreerow 18  1 [ guitext "mipmap anisotropy: " 0
             ] 36 -2 [ guinameslider aniso ["off" "2x" "4x" "8x" "16x"] [0 2 4 8 16] //guilistslider aniso [0 2 4 8 16]
             ] 12  0 [ guitext "(default   0)" 0
    ]
    guifreerow 18  1 [ guitext "anti-aliasing: " 0
             ] 36 -2 [ guinameslider fsaa ["auto?" "off" "2x" "4x" "8x" "16x"] [-1 0 2 4 8 16] //guilistslider fsaa [-1 0 2 4 8 16]
             ] 12  0 [ guitext "(default  -1)" 0
    ]
]


//#############################################################################################################################################
//#############################################################################################################################################
OPT_TAB_Gfx = [
    guifreerow 17.75  1 [ guitext "^f7*performance key*: " 0
             ] 48     0 [ guitext "^f0fast^f~, ^f2moderate^f~, ^f6moderate-ish^f~, ^f3slow & pretty^f~" 0
    ]
    guistrut 0.25
    guifreerow 17.75  1 [ guitext "shader detail: " 0
             ] 10    -2 [ guiradio "^f0low"    shaderdetail 0
             ] 10    -2 [ guiradio "^f2medium" shaderdetail 1
             ] 10    -2 [ guiradio "^f6high"   shaderdetail 2
             ]  1    -2 [ guiradio "^f3ultra"  shaderdetail 3
    ]
    guistrut 0.25
    GfxPreset_Glare 0
    if (= $glare 1) [
        if (= $glarescale 1) [
            if (= $blurglare 4) [GfxPreset_Glare 1]
            if (= $blurglare 7) [GfxPreset_Glare 3]
        ]
        if (= $glarescale 2) [
            if (= $blurglare 3) [GfxPreset_Glare 2]
            if (= $blurglare 7) [GfxPreset_Glare 4]
        ]
    ]
    guifreerow 17.75  1 [ guitext "glare: " 0
             ] 10    -2 [ guiradio "^f4off"     GfxPreset_Glare 0 [glare 0]
             ] 10    -2 [ guiradio "^f2subtle"  GfxPreset_Glare 1 [glare 1; blurglare 4; glarescale 1]
             ] 10    -2 [ guiradio "^f2glowy"   GfxPreset_Glare 2 [glare 1; blurglare 3; glarescale 2]
             ]  8.6  -2 [ guiradio "^f3soft"    GfxPreset_Glare 3 [glare 1; blurglare 7; glarescale 1]
             ]  1    -2 [ guiradio "^f3intense" GfxPreset_Glare 4 [glare 1; blurglare 7; glarescale 2]
    ]
    GfxPreset_MotionBlur 0
    if     (=  $motionblur 0)         [GfxPreset_MotionBlur 0] [
        if (=f $motionblurscale 0.5 ) [GfxPreset_MotionBlur 1]
        if (=f $motionblurscale 0.65) [GfxPreset_MotionBlur 2]
        if (=f $motionblurscale 0.8 ) [GfxPreset_MotionBlur 3]
    ]
    guifreerow 17.75  1 [ guitext "motion blur: " 0
             ] 10    -2 [ guiradio "^f4off"      GfxPreset_MotionBlur 0 [motionblur 0]
             ] 10    -2 [ guiradio "^f3subtle"   GfxPreset_MotionBlur 1 [motionblur 1; motionblurscale 0.5 ]
             ] 10    -2 [ guiradio "^f3moderate" GfxPreset_MotionBlur 2 [motionblur 1; motionblurscale 0.65]
             ]  1    -2 [ guiradio "^f3intense"  GfxPreset_MotionBlur 3 [motionblur 1; motionblurscale 0.8 ]
    ]
    guifreerow 17.75  1 [ guitext "dynamic lights: " 0
             ] 10    -2 [ guiradio "^f4off"    maxdynlights 0
             ] 10    -2 [ guiradio "^f0max 3"  maxdynlights 3
             ] 10    -2 [ guiradio "^f2max 4"  maxdynlights 4
             ]  1    -2 [ guiradio "^f6max 5"  maxdynlights 5
    ]
    GfxPreset_SoftParticles 0
    if         (= $depthfx 0)                          [GfxPreset_SoftParticles 0] [
        if (&& (= $depthfxsize  7) (= $blurdepthfx 1)) [GfxPreset_SoftParticles 1]
        if (&& (= $depthfxsize 10) (= $blurdepthfx 0)) [GfxPreset_SoftParticles 2]
        if (&& (= $depthfxsize 12) (= $blurdepthfx 0)) [GfxPreset_SoftParticles 3]
    ]
    guifreerow 17.75  1 [ guitext "soft particles: " 0
             ] 10    -2 [ guiradio "^f4off"    GfxPreset_SoftParticles 0 [depthfx 0]
             ] 10    -2 [ guiradio "^f0low"    GfxPreset_SoftParticles 1 [depthfx 1; depthfxsize  7; blurdepthfx 1]
             ] 10    -2 [ guiradio "^f2medium" GfxPreset_SoftParticles 2 [depthfx 1; depthfxsize 10; blurdepthfx 0]
             ]  1    -2 [ guiradio "^f3high"   GfxPreset_SoftParticles 3 [depthfx 1; depthfxsize 12; blurdepthfx 0]
    ]
    GfxPreset_DynamicShadows 0
    if (&& (= $blobs 1) (= $shadowmap 0)) [GfxPreset_DynamicShadows 1]
    if                  (= $shadowmap 1)  [GfxPreset_DynamicShadows 2]
    guifreerow 17.75  1 [ guitext "dynamic shadows: " 0
             ] 10    -2 [ guiradio "^f4off"         GfxPreset_DynamicShadows 0 [blobs 0; shadowmap 0]
             ] 10    -2 [ guiradio "^f2blobs"       GfxPreset_DynamicShadows 1 [blobs 1; shadowmap 0]
             ]  1    -2 [ guiradio "^f3shadowmaps"  GfxPreset_DynamicShadows 2 [blobs 0; shadowmap 1]
    ]
    if (= $shadowmap 1) [
        GfxPreset_ShadowmapQuality 0
        if (= $blurshadowmap 0) [
            if (= $shadowmapsize  9) [GfxPreset_ShadowmapQuality 1]
        ][
            if (= $shadowmapsize  9) [GfxPreset_ShadowmapQuality 2]
            if (= $shadowmapsize 10) [GfxPreset_ShadowmapQuality 3]
            if (= $shadowmapsize 11) [GfxPreset_ShadowmapQuality 4]
        ]
        guifreerow 17.75  1 [ guitext "shadowmap quality: " 0
                 ] 10    -2 [ guiradio "^f2low"    GfxPreset_ShadowmapQuality 1 [shadowmapsize  9; blurshadowmap 0]
                 ] 10    -2 [ guiradio "^f2medium" GfxPreset_ShadowmapQuality 2 [shadowmapsize  9; blurshadowmap 1]
                 ] 10    -2 [ guiradio "^f6high"   GfxPreset_ShadowmapQuality 3 [shadowmapsize 10; blurshadowmap 1]
                 ]  1    -2 [ guiradio "^f3ultra"  GfxPreset_ShadowmapQuality 4 [shadowmapsize 11; blurshadowmap 1]
        ]
        guistrut 0.25
    ][
        guifreerow 17.75  1 [ guitext "shadowmap quality: " 0
                 ] 10    -2 [ guiradio "^f4low"    GfxPreset_ShadowmapQuality 1 [shadowmapsize  9; blurshadowmap 0]
                 ] 10    -2 [ guiradio "^f4medium" GfxPreset_ShadowmapQuality 2 [shadowmapsize  9; blurshadowmap 1]
                 ] 10    -2 [ guiradio "^f4high"   GfxPreset_ShadowmapQuality 3 [shadowmapsize 10; blurshadowmap 1]
                 ]  1    -2 [ guiradio "^f4ultra"  GfxPreset_ShadowmapQuality 4 [shadowmapsize 11; blurshadowmap 1]
        ]
        guistrut 0.25
    ]
    guifreerow 17.75  1 [ guitext "models: " 0
             ] 10    -2 [ guicheckbox "^f0reflectenv"  envmapmodels
             ]  1    -2 [ guicheckbox "^f2bumpmap"     bumpmodels
    ]
    guistrut 0.25
    if (= $GfxShowTexReduce 0) [
        guifreerow 17.75  1 [ guistayopen [guibutton "max texture size: " [GfxShowTexReduce 1] 0 ]
                 ] 10    -2 [ guiradio "^f0256"        maxtexsize  256
                 ] 10    -2 [ guiradio "^f0512"        maxtexsize  512
                 ] 10    -2 [ guiradio "^f21024"       maxtexsize 1024
                 ]  8.6  -2 [ guiradio "^f62048"       maxtexsize 2048
                 ]  1    -2 [ guiradio "^f6unlimited"  maxtexsize    0
        ]
    ][
        guifreerow 17.75  1 [ guistayopen [guibutton "reduce texture size: " [GfxShowTexReduce 0] 0 ] // Secret texture option. :o
                 ] 48    -2 [ guinameslider texreduce ["0" "1/2" "1/4" "1/8" "1/16" "1/32" "1/64" "1/128" "1/256" "1/512" "1/1024" "1/2048" "1/4096"] [0 1 2 3 4 5 6 7 8 9 10 11 12] []
        ]
    ]
    GfxPreset_Grass 0
    if     (= $grass 0)       [GfxPreset_Grass 0] [
        if (= $grassdist 128) [GfxPreset_Grass 1]
        if (= $grassdist 256) [GfxPreset_Grass 2]
        if (= $grassdist 512) [GfxPreset_Grass 3]
    ]
    guifreerow 17.75  1 [ guitext "grass: " 0
             ] 10    -2 [ guiradio "^f4off"    GfxPreset_Grass 0 [grass 0]
             ] 10    -2 [ guiradio "^f2low"    GfxPreset_Grass 1 [grass 1; grassdist 128]
             ] 10    -2 [ guiradio "^f6medium" GfxPreset_Grass 2 [grass 1; grassdist 256]
             ]  1    -2 [ guiradio "^f3high"   GfxPreset_Grass 3 [grass 1; grassdist 512]
    ]
    GfxPreset_Decals 0
    if         (= $decals 0)                                [GfxPreset_Decals 0] [
        if (&& (= $decalfade 10000) (= $maxdecaltris 1024)) [GfxPreset_Decals 1]
        if (&& (= $decalfade 30000) (= $maxdecaltris 2048)) [GfxPreset_Decals 2]
        if (&& (= $decalfade 60000) (= $maxdecaltris 4096)) [GfxPreset_Decals 3]
    ]
    guifreerow 17.75  1 [ guitext "decals: " 0
             ] 10    -2 [ guiradio "^f4off"    GfxPreset_Decals 0 [decals 0]
             ] 10    -2 [ guiradio "^f0low"    GfxPreset_Decals 1 [decals 1; decalfade 10000; maxdecaltris 1024]
             ] 10    -2 [ guiradio "^f2medium" GfxPreset_Decals 2 [decals 1; decalfade 30000; maxdecaltris 2048]
             ]  1    -2 [ guiradio "^f6high"   GfxPreset_Decals 3 [decals 1; decalfade 60000; maxdecaltris 4096]
    ]
    guifreerow 17.75  1 [ guitext "glass: " 0
             ] 10    -1 [ guicheckbox "^f0reflectenv"  glassenv
    ]
    guifreerow 17.75  1 [ guitext "water: " 0
             ] 10    -2 [ guicheckbox "^f0reflectenv"  waterenvmap
             ] 10    -2 [ guicheckbox "^f3reflection"  waterreflect
             ] 10    -2 [ guicheckbox "^f2refraction"  waterrefract
             ]  8.6  -2 [ guicheckbox "^f0caustics"    caustics
             ]  1    -2 [ guicheckbox "^f2animation"   vertwater
    ]
    guifreerow 17.75  1 [ guitext "waterfalls: " 0
             ] 10    -2 [ guicheckbox "^f0reflectenv"  waterfallenv
             ] 10    -2 [
             ]  1    -2 [ guicheckbox "^f2refraction"  waterfallrefract
    ]
]


//#############################################################################################################################################
//#############################################################################################################################################
OPT_TAB_Hud = [
    guifreerow 18  1 [ guitext "show/hide: " 0
             ] 12 -2 [ guicheckbox "ammobar"  ammobar
             ] 12 -2 [ if (= $ammobar 1) [guibutton "adjust ammobar^t^f2/adjustammobar"       adjustammobar    "menu"]
    ]
    guifreerow 18 -2 [
             ] 12 -2 [ guicheckbox "gameclock"  gameclock
             ] 12 -2 [ if (= $gameclock 1) [guibutton "adjust gameclock^t^f2/adjustgameclock" adjustgameclock  "menu"]
    ]
    guifreerow 18 -2 [
             ] 12 -2 [ guicheckbox "hudscore"  hudscore
             ] 12 -2 [ if (= $hudscore 1) [guibutton "adjust hudscore^t^f2/adjusthudscore"    adjusthudscore   "menu"]
    ]
    guifreerow 18    -2 [
             ] 12    -2 [ guicheckbox "wallclock"  wallclock
             ] 11.25 -2 [ if $wallclock [ guicheckbox "24 hour"  wallclock24   ]
             ] 12    -2 [ if $wallclock [ guicheckbox "seconds"  wallclocksecs ]
    ]
    guifreerow 18 -2 [
             ] 12 -2 [ guicheckbox "FPS"  showfps
    ]
    guifreerow 18    -2 [
             ] 12    -2 [ guicheckbox "hudgun"  hudgun
             ] 11.25 -2 [ if $hudgun [ guicheckbox "sway"          hudgunsway  ]
             ] 12.25 -2 [ if $hudgun [ guicheckbox "muzzle flash"  muzzleflash ]
             ] 12    -2 [ if $hudgun [ guicheckbox "muzzle light"  muzzlelight ]
    ]
    guibar
    guifreerow 18  1 [ guitext "crosshair: " 0
             ]  3 -2 [ guiimage (getcrosshair) [showgui "crosshair"] 0.5
             ]  1 -2 [ guibutton "change" [showgui "crosshair"] 0
    ]
    guifreerow 18  1 [
             ] 12 -2 [ guitext "size:"
             ] 36 -2 [ guislider crosshairsize
    ]
    guifreerow 18    -2 [
             ] 12    -2 [ guicheckbox "effects"  crosshairfx
             ] 11.25 -2 [ if $crosshairfx [ guicheckbox "hits"           hitcrosshair 425 ]
             ] 12.25 -2 [ if $crosshairfx [ guicheckbox "teammates"      teamcrosshair    ]
             ]  1    -2 [ if $crosshairfx [ guicheckbox "health colors"  crosshaircolors  ]
    ]
    guibar
    guifreerow 18    1 [ guitext "damage indication: " 0
             ] 23.5 -2 [ guicheckbox "compass"        damagecompass
             ]  1   -2 [ guicheckbox "screen effect"  damagescreen
    ]
    guibar
    guifreerow 18    1 [ guitext "radar: " 0
             ] 23.5 -2 [ guicheckbox "numbered capture bases"  basenumbers
             ]  1   -2 [ guicheckbox "show teammates"          radarteammates 1
    ]
    guibar
    guifreerow 18    1 [ guitext "capture bases: " 0
             ] 23.5 -2 [ guicheckbox "outline meters"  outlinemeters
             ]  1   -2 [ guicheckbox "tether effect"   capturetether
    ]
]


//#############################################################################################################################################
//#############################################################################################################################################
BindActions = [
    "forward" "backward" "left" "right" "jump" "attack" "togglezoom"
    "saycommand" "sayteamcommand" "showscores" "toggleconsole" "screenshot" "edittoggle"
    "setweapon FI" "setweapon SG" "setweapon CG" "setweapon RL" "setweapon RI" "setweapon GL" "setweapon PI" "weapon"
    "universaldelta 1" "universaldelta -1" "dropflag" "addbot" "delbot"
]

OPT_TAB_Input = [
    guistayopen [
        _MyMouseSens = $sensitivity
        guifreerow 21    -2 [ guitext "mouse-aim sensitivity:"
                 ]  6.5  -2 [ guifield _MyMouseSens 5 [sensitivity $_MyMouseSens]
                 ]  2    -2 [ guibutton "" [sensitivity (+fround $sensitivity -0.1)]  "val_dec"
                 ]  4.35 -2 [ guibutton "" [sensitivity (+fround $sensitivity  0.1)]  "val_inc"
                 ]  1    -2 [ guicheckbox "mouse-aim invert Y-axis"  invmouse
        ]
    ]
    guistrut 0.6
    guititle "select action to bind and press desired keys (ESC when done)"
    guistrut 0.4
    iBind = 0
    guilistsplit n 2 $BindActions [
        guistrut 32 1
        guilist [
            guitext (tabify (concatword $n ": ") 4)
            [NewBinds@iBind] = (searchbinds $n)
            guikeyfield [NewBinds@iBind] -12 [
                OldBinds = (searchbinds [@@n])
                looplist iOld  $OldBinds         [bind $iOld ""]
                looplist iNew $[NewBinds@@iBind] [bind $iNew [@@@n]]
            ]
            iBind = (+ $iBind 1)
        ]
    ] [guibar]
]


//#############################################################################################################################################
//#############################################################################################################################################
OPT_TAB_Menus = [
    guistayopen [
        guifreerow 18  1 [ guitext "general: " 0
                 ] 16 -2 [ guitext "autotab thresh:"
                 ] 32 -2 [ guislider guiautotab
        ]
        guifreerow 18 -2 [
                 ] 16 -2 [ guitext "menufps: "
                 ] 32 -2 [ guilistslider menufps [60 75 90 120 144 165 240 360 480 600]
        ]
        guifreerow 18 -2 [
                 ] 16 -2 [ guicheckbox "click tab"  guiclicktab
        ]
        guifreerow 18 -2 [
                 ] 16 -2 [ guicheckbox "transition zoom"  guifadein
        ]
        guibar
        guifreerow 18  1 [ guitext "cursor: " 0
                 ] 16 -2 [ guitext "size:"
                 ] 32 -2 [ guislider cursorsize 4 50
        ]
        GuiSens $guisens
        guifreerow 18 -2 [
                 ] 16 -2 [ guitext "sensitivity: "
                 ]  1 -2 [ guifield GuiSens 5 [guisens $GuiSens]
                 ]  1 -2 [ guibutton "" [guisens (+fround $guisens -0.1)]  "val_dec"
                 ]  1 -2 [ guibutton "" [guisens (+fround $guisens  0.1)]  "val_inc"
        ]
        guibar
        guifreerow 18  1 [ guitext "mapmodel browser: " 0
                 ] 16 -2 [ guicheckbox "show model name on hover"  mmguiname
        ]
        guifreerow 18  1 [
                 ] 16 -2 [ guitext "width:"
                 ] 32 -2 [ guislider mmguiwidth 4 12
        ]
        guifreerow 18  1 [
                 ] 16 -2 [ guitext "height:"
                 ] 32 -2 [ guislider mmguiheight 4 12
        ]
        guistrut 1 //guibar
        guifreerow 18  1 [ guitext "texture browser: " 0
                 ] 16 -2 [ guicheckbox "show texture name on hover"  texguiname
        ]
        guifreerow 18  1 [
                 ] 16 -2 [ guitext "width:"
                 ] 32 -2 [ guislider texguiwidth 4 24
        ]
        guifreerow 18  1 [
                 ] 16 -2 [ guitext "height:"
                 ] 32 -2 [ guislider texguiheight 4 24
        ]
        guifreerow 18  1 [
                 ] 16 -2 [ guitext "scale:"
                 ]  1 -2 [ guifield texguiscale 5
                 ]  1 -2 [ guibutton "" [texguiscale (+fround $texguiscale -0.1)]  "val_dec"
                 ]  1 -2 [ guibutton "" [texguiscale (+fround $texguiscale  0.1)]  "val_inc"
        ]
    ]
]


//#############################################################################################################################################
//#############################################################################################################################################
macro guiresbutton [ guibutton "%1x%2" "screenres %1 %2" (if (&& (= $scr_w %1) (= $scr_h %2)) [result "radio_on"] [result "radio_off"]) ]

OPT_TAB_Res = [
    guistayopen [
        guilist [
            guilist [guistrut 16] //  Force Height.
            guilist [
                guistrut 11.6 1
                guialign 0 [guitext "4:3" 0]
                @@@@(guiresbutton 320 240)
                @@@@(guiresbutton 640 480)
                @@@@(guiresbutton 800 600)
                @@@@(guiresbutton 1024 768)
                @@@@(guiresbutton 1152 864)
                @@@@(guiresbutton 1280 960)
                @@@@(guiresbutton 1400 1050)
                @@@@(guiresbutton 1600 1200)
                @@@@(guiresbutton 1792 1344)
                @@@@(guiresbutton 1856 1392)
                @@@@(guiresbutton 1920 1440)
                @@@@(guiresbutton 2048 1536)
                @@@@(guiresbutton 2800 2100)
                @@@@(guiresbutton 3200 2400)
            ]
            guibar
            guilist [
                guistrut 11.6 1
                guialign 0 [guitext "16:10" 0]
                @@@@(guiresbutton 320 200)
                @@@@(guiresbutton 640 400)
                @@@@(guiresbutton 1024 640)
                @@@@(guiresbutton 1280 800)
                @@@@(guiresbutton 1440 900)
                @@@@(guiresbutton 1600 1000)
                @@@@(guiresbutton 1680 1050)
                @@@@(guiresbutton 1920 1200)
                @@@@(guiresbutton 2048 1280)
                @@@@(guiresbutton 2560 1600)
                @@@@(guiresbutton 2880 1800)
                @@@@(guiresbutton 3200 2000)
                @@@@(guiresbutton 3840 2400)
            ]
            guibar
            guilist [
                guistrut 11.6 1
                guialign 0 [guitext "16:9" 0]
                @@@@(guiresbutton 1024 600)
                @@@@(guiresbutton 1280 720)
                @@@@(guiresbutton 1366 768)
                @@@@(guiresbutton 1600 900)
                @@@@(guiresbutton 1920 1080)
                @@@@(guiresbutton 2048 1152)
                @@@@(guiresbutton 2560 1440)
                @@@@(guiresbutton 2880 1620)
                @@@@(guiresbutton 3200 1800)
                @@@@(guiresbutton 3840 2160)
            ]
            guibar
            guilist [
                guistrut 11.6 1
                guialign 0 [guitext "21:9" 0]
                @@@@(guiresbutton 2560 1080)
                @@@@(guiresbutton 3440 1440)
                @@@@(guiresbutton 3840 1600)
                guistrut 1
                guialign 0 [guitext "32:9" 0]
                @@@@(guiresbutton 3840 1080)
                @@@@(guiresbutton 5120 1440)
                guistrut 1
                guialign 0 [guitext "1:1" 0]
                @@@@(guiresbutton  512  512)
                @@@@(guiresbutton  768  768)
                @@@@(guiresbutton 1024 1024)
                @@@@(guiresbutton 2048 2048)
            ]
            guibar
            guilist [
                guistrut 11.6 1
                guialign 0 [guitext "5:4" 0]
                @@@@(guiresbutton 600 480)
                @@@@(guiresbutton 1280 1024)
                @@@@(guiresbutton 1600 1280)
                @@@@(guiresbutton 2560 2048)
                guistrut 1
                guialign 0 [guitext "5:3" 0]
                @@@@(guiresbutton 800 480)
                @@@@(guiresbutton 1280 768)
                guistrut 1
                guibar
                guialign 0 [guitext "Custom" 0]
                guistrut 0.25
                guialign 0 [
                    _MyResX = $scr_w
                    _MyResY = $scr_h
                    guifield _MyResX 4 [scr_w $_MyResX]
                    guitext " " 0
                    guifield _MyResY 4 [scr_h $_MyResY]
                ]
                guistrut 1.5
                guialign 0 [guicheckbox "fullscreen"  fullscreen]
            ]
        ]
    ]
]


//#############################################################################################################################################
//#############################################################################################################################################
OPT_TAB_Sound = [
    guifreerow 20  1 [ guitext "sound volume: " 0
             ] 46 -2 [ guislider soundvol
    ]
    guistrut 0.5
    guifreerow 20  1 [ guitext "simultaneous sounds: " 0  // "max voices"
             ] 46 -2 [ guislider soundchans
    ]
    guistrut 0.25
    guifreerow 20  1 [ guitext "sound frequency: " 0
             ] 46 -2 [ guilistslider soundfreq [11025 22050 44100 48000]
    ]
    guistrut 0.25
    guifreerow 20  1 [ guitext "sound buffer length: " 0
             ] 46 -2 [ guislider soundbufferlen
    ]
    guistrut 0.25
    guifreerow 20  1 [
             ] 46 -2 [ guicheckbox "play sound while minimized" minimizedsounds
    ]
    guibar
    guifreerow 20  1 [ guitext "music volume: " 0
             ] 46 -2 [ guislider musicvol //[if $musicvol [if (! $music) [playsong]] [music ""]]
    ]
    guistrut 0.5
    guifreerow 20  1 [
             ] 23 -2 [ guicheckbox "show nowplaying" playsong_shownowplaying
             ] 23 -2 [ if (> $musicvol 0) [guistayopen [guibutton "play next song" playsong]]
    ]
    guibar
    guifreerow 20 -2 [
             ] 46 -2 [ guicheckbox "mumble positional audio" mumble
    ]
]


//#############################################################################################################################################
//#############################################################################################################################################
OPT_TAB_Cfg = [
    guitext "autoexec.cfg"
    guitexteditor "autoexec.cfg" -63 14
]


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
nodebug [
    defvar AH_Width  1 78 -1
    defvar AH_Height 1 23 -1

    defvar GameClockR      0 0 255
    defvar GameClockG      0 0 255
    defvar GameClockB      0 0 255
    defvar GameClockLowR   0 0 255
    defvar GameClockLowG   0 0 255
    defvar GameClockLowB   0 0 255
    defvar HudScoreEnemyR  0 0 255
    defvar HudScoreEnemyG  0 0 255
    defvar HudScoreEnemyB  0 0 255
    defvar HudScorePlayerR 0 0 255
    defvar HudScorePlayerG 0 0 255
    defvar HudScorePlayerB 0 0 255
    defvar SkyOutlineR     0 0 255
    defvar SkyOutlineG     0 0 255
    defvar SkyOutlineB     0 0 255
]

newgui "adjusthud" [
    guikeeptab 1
    guinoautotab [
    guistayopen [
    // Save the frames 'guitabnum' hack:            H                               V
                          if (= $guitabnum  1) [ guilist [guistrut $AH_Height 1; guilist [guistrut $AH_Width 1; AH_TAB_Misc       ]] ]
    guitab "crosshair"  ; if (= $guitabnum  2) [ guilist [guistrut $AH_Height 1; guilist [guistrut $AH_Width 1; AH_TAB_Crosshair  ]] ]
    guitab "hudgun"     ; if (= $guitabnum  3) [ guilist [guistrut $AH_Height 1; guilist [guistrut $AH_Width 1; AH_TAB_HudGun     ]] ]
    guitab "ammobar"    ; if (= $guitabnum  4) [ guilist [guistrut $AH_Height 1; guilist [guistrut $AH_Width 1; AH_TAB_AmmoBar    ]] ]
    guitab "gameclock"  ; if (= $guitabnum  5) [ guilist [guistrut $AH_Height 1; guilist [guistrut $AH_Width 1; AH_TAB_GameClock  ]] ]
    guitab "hudscore"   ; if (= $guitabnum  6) [ guilist [guistrut $AH_Height 1; guilist [guistrut $AH_Width 1; AH_TAB_HudScore   ]] ]
    guitab "thirdperson"; if (= $guitabnum  7) [ guilist [guistrut $AH_Height 1; guilist [guistrut $AH_Width 1; AH_TAB_ThirdPerson]] ]
    guitab "editing"    ; if (= $guitabnum  8) [ guilist [guistrut $AH_Height 1; guilist [guistrut $AH_Width 1; AH_TAB_Editing    ]] ]
    ]]
] "misc" []

TODO 0 "menus.cfg -- Create AdjustHUD gui.  Combine: ammobar,gameclock,hudscore,etc..."
// tabify     What does this do?


//#############################################################################################################################################
AH_TAB_Misc = [
    guicheckbox "wall clock" wallclock
    guicheckbox "show fps" showfps
    guicheckbox "show fps range" showfpsrange
    guistrut 1
    guicheckbox "healthcolors" healthcolors
    guistrut 1
    guicheckbox "statusbars" statusbars // show health status bars for teammates
    guicheckbox "statusicons" statusicons // show status icons over players
    guistrut 1
    guicheckbox "showmodeinfo" showmodeinfo  // on loading screen

]


//#############################################################################################################################################
CrosshairList = [
    "data/crosshair.png                   data/hit.png"
    "packages/crosshairs/x.png            packages/crosshairs/x-hit.png"
    "packages/crosshairs/x_dot.png        packages/crosshairs/x_dot-hit.png"
    "packages/crosshairs/o.png            packages/crosshairs/o-hit.png"
    "packages/crosshairs/o_x.png          packages/crosshairs/o_x-hit.png"
    "packages/crosshairs/o_dot.png        packages/crosshairs/o_dot-hit.png"
    "packages/crosshairs/dot.png          packages/crosshairs/dot-hit.png"
    "packages/crosshairs/dot_wide.png     packages/crosshairs/dot_wide-hit.png"
    "packages/crosshairs/star.png         packages/crosshairs/star-hit.png"
    "packages/crosshairs/wide.png         packages/crosshairs/wide-hit.png"
    "packages/crosshairs/circle_dot.png   packages/crosshairs/circle_dot_hit.png"
    "packages/crosshairs/cross_normal.png packages/crosshairs/cross_normal_hit.png"
    "packages/crosshairs/cross_whole.png  packages/crosshairs/cross_whole_hit.png"
    "packages/crosshairs/dot_normal.png   packages/crosshairs/dot_normal_hit.png"
    "packages/crosshairs/dot_whole.png    packages/crosshairs/dot_whole_hit.png"
    "packages/crosshairs/dot2.png         packages/crosshairs/dot2_hit.png"
]

AH_TAB_Crosshair = [
    guifreerow 12  1 [ guitext "crosshair size: " 0
             ] 32 -2 [ guislider crosshairsize
    ]
    guistrut 0.5
    guifreerow 12  1 [ guitext "crosshair: " 0
             ] 32 -2 [
        loop iRow (div (+ (listlen $CrosshairList) 6) 8) [
            guilist [
                loop iCol 8 [
                    _ch = (at $CrosshairList (+ (* $iRow 8) $iCol))
                    if (!=s $_ch "") [
                        guiimage (at $_ch 0) [
                            cleargui 1
                            loadcrosshair @(at $_ch 0) 0
                            loadcrosshair @(at $_ch (if (> (listlen $_ch) 1) 1 0)) 2
                        ] 1
                    ]
                ]
            ]
        ]
    ]
]
TODO 0 "menus.cfg -- Remake all crosshairs with alpha & outlines?"

newgui "crosshair" [AH_TAB_Crosshair]


//#############################################################################################################################################
AH_TAB_HudGun = [
    guicheckbox "HudGun" hudgun
    guistrut 1
    guicheckbox "MuzzleFlash" muzzleflash
    guicheckbox "MuzzleLight" muzzlelight
    guistrut 1
    guicheckbox "HudGunSway" hudgunsway
    guilist [guitext "swaystep:" 0; guilist [guistrut 56 1; guislider swaystep]]
    guilist [guitext "swayside:" 0; guilist [guistrut 56 1; guislider swayside]]
    guilist [guitext "swayup:"   0; guilist [guistrut 56 1; guislider swayup  ]]
]


//#############################################################################################################################################
AH_TAB_AmmoBar = [
    guicheckbox "AmmoBar" ammobar
    guibar
    guilist [
        guitext "AmmoBarAlign:^t^t^t"
        guiradio "-1 " ammobaralign -1
        guiradio "0 "  ammobaralign  0
        guiradio "1"   ammobaralign  1
    ]

    guicheckbox "AmmoBarHorizontal" ammobarhorizontal

    guicheckbox "AmmoBarFlip" ammobarflip

    guicheckbox "AmmoBarHideEmpty" ammobarhideempty

    guitext "AmmoBarSep:"
    guislider ammobarsep

    guitext "AmmoBarCountSep:"
    guislider ammobarcountsep

    guilist [
        guitext "AmmoBarCountScale:^t "
        guifield ammobarcountscale 5
        guibutton "" [ammobarcountscale (+fround $ammobarcountscale -0.1)]  "val_dec"
        guibutton "" [ammobarcountscale (+fround $ammobarcountscale  0.1)]  "val_inc"
    ]

    guilist [
        guitext "AmmoBarScale:^t^t^t "
        guifield ammobarscale 5
        guibutton "" [ammobarscale (+fround $ammobarscale -0.01)]           "val_dec"
        guibutton "" [ammobarscale (+fround $ammobarscale  0.01)]           "val_inc"
    ]

    guilist [
        guitext "AmmoBarX:^t^t^t "
        guifield ammobarx 5
        guibutton "" [ammobarx (+fround $ammobarx -0.01)]                   "val_dec"
        guibutton "" [ammobarx (+fround $ammobarx  0.01)]                   "val_inc"
    ]
    guilist [
        guitext "AmmoBarY:^t^t^t "
        guifield ammobary 5
        guibutton "" [ammobary (+fround $ammobary -0.01)]                   "val_dec"
        guibutton "" [ammobary (+fround $ammobary  0.01)]                   "val_inc"
    ]
]

newgui "adjustammobar" [AH_TAB_AmmoBar]


//#############################################################################################################################################
AH_TAB_GameClock = [
    guicheckbox "GameClock" gameclock
    guibar
    guilist [
        guitext "GameClockAlign:^t"
        guiradio "-1 " gameclockalign -1
        guiradio "0 "  gameclockalign  0
        guiradio "1"   gameclockalign  1
    ]

    guitext "GameClockAlpha:"
    guislider gameclockalpha

    GameClockR (& (>> $gameclockcolour 16) 0xFF)
    GameClockG (& (>> $gameclockcolour  8) 0xFF)
    GameClockB (&     $gameclockcolour     0xFF)
    guilist [guitext "GameClockColour:^t^t"; guicolor $gameclockcolour]
    guislider GameClockR 0 255 [gameclockcolour $GameClockR $GameClockG $GameClockB]
    guislider GameClockG 0 255 [gameclockcolour $GameClockR $GameClockG $GameClockB]
    guislider GameClockB 0 255 [gameclockcolour $GameClockR $GameClockG $GameClockB]

    GameClockLowR (& (>> $gameclocklowcolour 16) 0xFF)
    GameClockLowG (& (>> $gameclocklowcolour  8) 0xFF)
    GameClockLowB (&     $gameclocklowcolour     0xFF)
    guilist [guitext "GameClockLowColour:^t"; guicolor $gameclocklowcolour]
    guislider GameClockLowR 0 255 [gameclocklowcolour $GameClockLowR $GameClockLowG $GameClockLowB]
    guislider GameClockLowG 0 255 [gameclocklowcolour $GameClockLowR $GameClockLowG $GameClockLowB]
    guislider GameClockLowB 0 255 [gameclocklowcolour $GameClockLowR $GameClockLowG $GameClockLowB]

    guilist [
        guitext "GameClockScale:^t "
        guifield gameclockscale 5
        guibutton "" [gameclockscale (+fround $gameclockscale -0.01)]   "val_dec"
        guibutton "" [gameclockscale (+fround $gameclockscale  0.01)]   "val_inc"
    ]

    guilist [
        guitext "GameClockX:^t^t "
        guifield gameclockx 5
        guibutton "" [gameclockx (+fround $gameclockx -0.01)]           "val_dec"
        guibutton "" [gameclockx (+fround $gameclockx  0.01)]           "val_inc"
    ]
    guilist [
        guitext "GameClockY:^t^t "
        guifield gameclocky 5
        guibutton "" [gameclocky (+fround $gameclocky -0.01)]           "val_dec"
        guibutton "" [gameclocky (+fround $gameclocky  0.01)]           "val_inc"
    ]
]

newgui "adjustgameclock" [AH_TAB_GameClock]


//#############################################################################################################################################
AH_TAB_HudScore = [
    guicheckbox "HudScore" hudscore
    guibar
    guilist [
        guitext "HudScoreAlign:^t^t"
        guiradio "-1 " hudscorealign -1
        guiradio "0 "  hudscorealign  0
        guiradio "1"   hudscorealign  1
    ]

    guitext "HudScoreAlpha:"
    guislider hudscorealpha

    HudScoreEnemyR (& (>> $hudscoreenemycolour  16) 0xFF)
    HudScoreEnemyG (& (>> $hudscoreenemycolour   8) 0xFF)
    HudScoreEnemyB (&     $hudscoreenemycolour      0xFF)
    guilist [guitext "HudScoreEnemyColour:^t"; guicolor $hudscoreenemycolour]
    guislider HudScoreEnemyR 0 255 [hudscoreenemycolour $HudScoreEnemyR $HudScoreEnemyG $HudScoreEnemyB]
    guislider HudScoreEnemyG 0 255 [hudscoreenemycolour $HudScoreEnemyR $HudScoreEnemyG $HudScoreEnemyB]
    guislider HudScoreEnemyB 0 255 [hudscoreenemycolour $HudScoreEnemyR $HudScoreEnemyG $HudScoreEnemyB]

    HudScorePlayerR (& (>> $hudscoreplayercolour 16) 0xFF)
    HudScorePlayerG (& (>> $hudscoreplayercolour  8) 0xFF)
    HudScorePlayerB (&     $hudscoreplayercolour     0xFF)
    guilist [guitext "HudScorePlayerColour:^t"; guicolor $hudscoreplayercolour]
    guislider HudScorePlayerR 0 255 [hudscoreplayercolour $HudScorePlayerR $HudScorePlayerG $HudScorePlayerB]
    guislider HudScorePlayerG 0 255 [hudscoreplayercolour $HudScorePlayerR $HudScorePlayerG $HudScorePlayerB]
    guislider HudScorePlayerB 0 255 [hudscoreplayercolour $HudScorePlayerR $HudScorePlayerG $HudScorePlayerB]

    guitext "HudScoreSep:"
    guislider hudscoresep

    guilist [
        guitext "HudScoreScale:^t^t "
        guifield hudscorescale 5
        guibutton "" [hudscorescale (+fround $hudscorescale -0.01)]  "val_dec"
        guibutton "" [hudscorescale (+fround $hudscorescale  0.01)]  "val_inc"
    ]

    guilist [
        guitext "HudScoreX:^t^t "
        guifield hudscorex 5
        guibutton "" [hudscorex (+fround $hudscorex -0.01)]  "val_dec"
        guibutton "" [hudscorex (+fround $hudscorex  0.01)]  "val_inc"
    ]
    guilist [
        guitext "HudScoreY:^t^t "
        guifield hudscorey 5
        guibutton "" [hudscorey (+fround $hudscorey -0.01)]  "val_dec"
        guibutton "" [hudscorey (+fround $hudscorey  0.01)]  "val_inc"
    ]
]

newgui "adjusthudscore" [AH_TAB_HudScore]


//#############################################################################################################################################
AH_TAB_ThirdPerson = [
    guicheckbox "ThirdPerson" thirdperson
    guistrut 1
    guilist [guitext "distance:" 0; guilist [guistrut 56 1; guislider thirdpersondistance]]
    guilist [guitext "side:"     0; guilist [guistrut 56 1; guislider thirdpersonside    ]]
    guilist [guitext "up:"       0; guilist [guistrut 56 1; guislider thirdpersonup      ]]
]


//#############################################################################################################################################
AH_TAB_Editing = [
    guifreerow 10  1 [ guitext "misc: " 0
             ]  1 -2 [ guicheckbox "show editstats while playing" showeditstats
                       guistrut 0.5
                       guicheckbox "show entity radius" showentradius
    ]
    guistrut 0.5
    guifreerow 10  1 [ guitext "skytexture: " 0
             ] 12 -2 [ guicheckbox "show surface" showsky
                       guicheckbox "show outline" showskyoutline
    ]
    SkyOutlineR (& (>> $skyoutlinecolour 16) 0xFF)
    SkyOutlineG (& (>> $skyoutlinecolour  8) 0xFF)
    SkyOutlineB (&     $skyoutlinecolour     0xFF)
    guifreerow 10 -2 [
             ] 12 -2 [ guitext "color:"; guistrut 1; guicolor $skyoutlinecolour
             ] 56 -2 [ guislider SkyOutlineR 0 255 [skyoutlinecolour $SkyOutlineR $SkyOutlineG $SkyOutlineB]
                       guislider SkyOutlineG 0 255 [skyoutlinecolour $SkyOutlineR $SkyOutlineG $SkyOutlineB]
                       guislider SkyOutlineB 0 255 [skyoutlinecolour $SkyOutlineR $SkyOutlineG $SkyOutlineB]
    ]
    guistrut 0.5
    guifreerow 10  1 [ guitext "waypoints: " 0
             ] 24 -2 [ guicheckbox "show waypoints" showwaypoints
    ]
    guifreerow 10 -2 [
             ] 12 -2 [ guitext "distance:"
             ] 56 -2 [ guislider showwaypointsradius
    ]
    guibar
    guifreerow 10  1 [ guitext "edithud: " 0
             ] 24 -2 [ guicheckbox "show player position" edithud_showplayerpos
                       guicheckbox "show player rotation" edithud_showplayerrot
             ]  1 -2 [ guicheckbox "show texture parameters" edithud_showtexparams
                       guicheckbox "show texture layer parameters" edithud_showtexparamslayer
    ]
    guistrut 0.5
    guifreerow 10 -2 [
             ] 12 -2 [ if $edithud_debugthisparty [guibutton "debugparty:" [edithud_debugthisparty 0] "info"] [guibutton "debugthis:" [edithud_debugthisparty 1] "info"]
             ]  1 -2 [ guifield edithud_debugthis -55
    ]
    guistrut 0.5
    guifreerow 10 -2 [
             ] 12 -2 [ guitext "listbools:"
                       guitext "shy:"
                       guitext "notice:"
             ]  1 -2 [ guifield edithud_listbools -55
                       guifield edithud_listboolsshy -55
                       guifield edithud_listboolsnotice -55
    ]
    guistrut 0.5
    guifreerow 10 -2 [
             ] 12 -2 [ guitext "listvars:"
             ]  1 -2 [ guifield edithud_listvars -55
    ]
    guibar
    guifreerow 10  1 [ guitext "debug: " 0
             ]  1 -2 [ guicheckbox "show model bounding boxes" showboundingbox
    ]
]


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
newgui "postfx" [
    guibutton "(effect OFF)"            [clearpostfx]
    guibutton "bloom (subtle: 30%)"     [bloom 0.3]
    guibutton "bloom (bright: 55%)"     [bloom 0.55]
    guibutton "bloom (intense: 80%)"    [bloom 0.8]
    guibutton "rotoscope"               [rotoscope 1]
    guibutton "rotoscope + blur3"       [rotoscope 1 1]
    guibutton "rotoscope + blur5"       [rotoscope 1 2]
    guibutton "sobel"                   [setpostfx sobel]
    guibutton "invert"                  [setpostfx invert]
    guibutton "gbr"                     [setpostfx gbr]
    guibutton "bw"                      [setpostfx bw]
    guibutton "blur3"                   [setpostfx hblur3; addpostfx vblur3]
    guibutton "blur5"                   [setpostfx hblur5; addpostfx vblur5]
]
TODO 0 "menus.cfg -- 'CleanUp' HSV shader?"

